{% extends 'base.html' %}

{% block content %}
<form class="new-transactions" action="/transactions" method="post">
    <label for="label">Label:</label>
        <select name="label_id" id="label">
            {% for label in labels %}
              <option value="{{ label.id }}">{{ label.name }}</option>
            {% endfor %}
        </select>
    
    <label for="merchant">Merchant:</label>
        <select name="merchant_id" id="merchant">
            {% for merchant in merchants %}
              <option value="{{ merchant.id }}">{{ merchant.name }}</option>
              {% endfor %}
        </select>
    
    <label for="amount"></label>
    <input type="number" id="amount" name="amount" placeholder="Amount" required>
    
      <button type='submit'>Add</button>
</form>

<table class="table-header">
  <thead>
      <th>Label</th>
      <th>Merchant</th>
      <th>Amount </th>
  </thead>
  <tbody>
    {% for transaction in transactions %} 
    <tr class=transactions-table>
      <td>{{ transaction.label.name }}</td>
      <td>{{ transaction.merchant.name }}</td>
      <td>£ {{ transaction.amount }}</td>
    </tr>
    {% endfor %}
  </tbody>
  <tfoot>
    <tr>
      <td colspan="4">
        <h3 id="total">Total £{{ total }} </h3>
      </td>
    </tr>
  </tfoot>
</table>



{% endblock %}

